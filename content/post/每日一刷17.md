---
title: 每日一刷17
date: 2018-07-10 20:46:54
categories: 
    - 算法
tags:
    - java
    - leetcode
    - Dynamic Programming
---
Given an integer array nums, find the contiguous subarray within an array (containing at least one number) which has the largest product.
**Example 1:**
```js
Input: [2,3,-2,4]
Output: 6
```
Explanation: [2,3] has the largest product 6.
**Example 2:**
```js
Input: [-2,0,-1]
Output: 0
```
Explanation: The result cannot be 2, because [-2,-1] is not a subarray.
```java
class Solution {
    public int maxProduct(int[] nums) {
        if (nums == null || nums.length == 0) {
            return 0;
        }
        int n = nums.length;
        int[] maxdp = new int[n+1];
        int[] mindp = new int[n+1];
        int maxVal = Integer.MIN_VALUE;
        maxdp[0] = 1;
        mindp[0] = 1;
        for (int i = 1; i < n+1; i++) {
            maxdp[i] = Math.max(maxdp[i-1]*nums[i-1], Math.max(mindp[i-1]*nums[i-1], nums[i-1]));
            mindp[i] = Math.min(mindp[i-1]*nums[i-1], Math.min(maxdp[i-1]*nums[i-1], nums[i-1]));
            maxVal = Math.max(maxVal, maxdp[i]);
        }
        return maxVal;
    }
}
```
不是很难的动态规划题，考察对于题目的分析，这边主要考察三点：
1. 之前已经保存的正数的最大值乘以一个正数是最大；
2. 之前已经保存的负数的最小值乘以一个负数变成最大；
3. 考虑到0的存在，使得单个值成为最大值或者0之后的某一串值变成最大值；
这道题自己在考虑的时候要对于各种情况考虑周全。
